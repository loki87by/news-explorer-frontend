{"version":3,"sources":["images/authorAvatar-min.jpg","images/github.svg","images/facebook.svg","contexts/CurrentUserContext.js","components/Navigation/Navigation.js","components/Header/Header.js","utils/consts.js","components/SearchForm/SearchForm.js","utils/NewsApi.js","utils/MainApi.js","components/NewsCardPanel/NewsCardPanel.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/Preloader/Preloader.js","components/About/About.js","components/Main/Main.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","components/Footer/Footer.js","components/PopupWithForm/PopupWithForm.js","components/Registration/Registration.js","components/Login/Login.js","components/TooltipPopup/TooltipPopup.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Navigation","props","currentUser","useContext","offSavedPages","setSavedNewsPage","className","screenWidth","exact","to","activeClassName","onClick","isSavedNewsPage","loggedIn","logOut","type","name","handleLoginClick","Header","useState","window","screen","width","setScreenWidth","isMobileMenuOpen","setMobileMenuOpen","mobileMenuSwitcher","useEffect","resizer","innerWidth","addEventListener","removeEventListener","Provider","value","area-label","UNKNOWN_ERROR","date","Date","setDate","getDate","month","getMonth","year","toString","slice","day","DATE_NORMALIZER","concat","NOT_EMPTY_REQUEST","HTML_UNTAGGER","EMAIL_CHECKER","PASS_CHECKER","SearchForm","request","setRequest","placeholderText","setPlaceholderText","required","placeholder","onChange","e","target","id","preventDefault","regex","length","test","isDataLoaded","setResponseSending","setDataLoaded","setKeyword","keyword","BASE_URL","fetch","method","then","res","ok","json","catch","NewsApi","articles","arr","map","item","obj","title","cleanText","description","replace","text","dateArr","publishedAt","toLocaleString","split","start","join","end","comma","source","link","url","urlToImage","image","setNews","JSON","stringify","localStorage","setItem","getNews","parse","getItem","setArticles","setSearchError","err","scroller","searchNews","NewsCardPanel","saveArticle","token","article","headers","body","status","Promise","reject","Error","oldArticles","updateArticles","last","reverse","result","MainApi","setMarker","updateNews","_id","marked","removeItem","console","log","deleteArticle","filter","_link","savedNews","updateSavedNews","marker","unsaveArticle","setRegisterPopupOpen","path","state","setLoginPopupOpen","NewsCard","href","style","display","src","alt","textDecoration","NewsCardList","firstNews","undefined","newsCards","setNewsCards","otherNews","hiddenNews","setHiddenNews","key","i","moreNews","other","Preloader","searchError","About","authorAvatar","Main","isResponseSending","SavedNewsHeader","newsQuantityText","hashtags","newsQuantity","repeatCounter","reduce","p","arrayNormalizer","Object","keys","sort","a","b","textCreator","hashtagsCreator","excess","hashtagsExcesser","SavedNews","Footer","listStyle","githubLogo","facebookLogo","PopupWithForm","isOpen","onSubmit","action","aria-label","onClose","htmlFor","handleEmailChange","userEmail","emailId","disabled","isRequestSending","isValidEmail","invalidEmailMessage","handlePasswordChange","userPassword","passiD","isValidPassword","invalidPasswordMessage","children","handleSubmit","isValidName","backgroundColor","color","changeLink","antilink","Registration","closeAllPopups","setRequestSending","onRegister","invalidNameMessage","handleNameChange","userName","registrationError","Login","onLogin","loginError","TooltipPopup","handleEscClose","handleClickClose","classList","contains","ProtectedRoute","Component","component","App","setLoggedIn","isRegisterPopupOpen","isLoginPopupOpen","isInformationPopupOpen","setInformationPopupOpen","setRegistrationError","setLoginError","setValidEmail","setInvalidEmailMessage","setValidPassword","setValidName","setInvalidPasswordMessage","setInvalidNameMessage","setCurrentUser","setUserEmail","setUserPassword","setUserName","history","useHistory","sourceLoading","data","user","push","finally","news","findedNews","changeInputListener","newEmail","newPassword","oldEmail","oldPassword","document","getElementById","handlePopupClose","email","pass","getAllNews","getSavedNews","forEach","v","some","v2","markedNews","redirector","location","scroll","y","smooth","password","message","includes","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.9c1e9ff1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/authorAvatar-min.582f6e9e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/github.7ea7bee9.svg\";","module.exports = __webpack_public_path__ + \"static/media/facebook.4521f6ae.svg\";","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();\r\nexport const users = {}","// **импорты\r\nimport React from 'react';\r\nimport { NavLink, Link } from 'react-router-dom'\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport './Navigation.css';\r\nimport './styles/__link/Navigation__link.css';\r\nimport './styles/__link/_active/Navigation__link_active.css';\r\nimport './styles/__button/Navigation__button.css';\r\nimport './styles/_black/Navigation_black.css';\r\n\r\n// **Функционал\r\nfunction Navigation(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // *смена состояния страницы\r\n  function offSavedPages() {\r\n    props.setSavedNewsPage(false);\r\n  }\r\n\r\n  // **DOM\r\n  return (\r\n    <nav className=\"Navigation\">\r\n      {props.screenWidth > 610 ?\r\n        <NavLink exact to=\"/\" activeClassName=\"Navigation__link_active\" onClick={offSavedPages} className={`Navigation__link ${props.isSavedNewsPage && \"Navigation_black\"}`}>Главная</NavLink>\r\n        : <Link to=\"/\" onClick={offSavedPages} className=\"Navigation__link\">Главная</Link>}\r\n      {props.loggedIn ?\r\n      <>\r\n        {props.screenWidth > 610 ?\r\n          <NavLink to=\"/saved-pages\" activeClassName=\"Navigation__link_active\" className={`Navigation__link ${props.isSavedNewsPage && \"Navigation_black\"}`}>Сохраненные страницы</NavLink>\r\n          : <Link to=\"/saved-pages\" className=\"Navigation__link\">Сохраненные страницы</Link>}\r\n      </>\r\n      : ''}\r\n      {props.loggedIn ?\r\n      <button className={`Navigation__button ${props.isSavedNewsPage && (props.screenWidth > 610) && \"Navigation_black\"}`} onClick={props.logOut} type=\"reset\">{currentUser.name}[-&nbsp;&gt;</button> :\r\n      <button className={`Navigation__button ${props.isSavedNewsPage && (props.screenWidth > 610) && \"Navigation_black\"}`} type=\"button\" onClick={props.handleLoginClick}>Авторизоваться</button>}\r\n    </nav>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default Navigation;\r\n","// **импорты\r\nimport React, { useEffect } from 'react';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport './Header.css';\r\nimport './styles/__mobile-menu/Header__mobile-menu.css';\r\nimport './styles/_mobilePosition/Header_mobilePosition.css';\r\nimport './styles/__mobile-menu/_black/Header__mobile-menu_black.css';\r\nimport './styles/_mobileMenuOpen/Header_mobileMenuOpen.css';\r\nimport './styles/__mobile-menu/_close/Header__mobile-menu_close.css';\r\nimport './styles/_black/Header_black.css';\r\nimport './styles/__title/Header__title.css';\r\n\r\n// **Функционал\r\nfunction Header(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // *стейты\r\n  const [screenWidth, setScreenWidth] = React.useState(window.screen.width);\r\n  const [isMobileMenuOpen, setMobileMenuOpen] = React.useState(false);\r\n\r\n  // *отслеживатель изменения ширины экрана\r\n  useEffect(function() {\r\n    function resizer() {\r\n      setScreenWidth(window.innerWidth);\r\n      if (screenWidth > 610) {\r\n        setMobileMenuOpen(false);\r\n      }\r\n    };\r\n    window.addEventListener(\"resize\", resizer);\r\n    resizer();\r\n    return () => window.removeEventListener(\"resize\", resizer);\r\n  });\r\n\r\n  // *переключатель меню мобильной версии\r\n  function mobileMenuSwitcher() {\r\n    if (isMobileMenuOpen) {\r\n      setMobileMenuOpen(false);\r\n    } else {\r\n      setMobileMenuOpen(true);\r\n    }\r\n  }\r\n\r\n  // **DOM\r\n  return (\r\n    <header className={`Header ${props.isSavedNewsPage && !isMobileMenuOpen && \"Header_black\"} ${props.isSavedNewsPage && (screenWidth < 611) && \"Header_mobilePosition\"} ${isMobileMenuOpen && \"Header_mobileMenuOpen\"}`}>\r\n      <h1 className=\"Header__title\">NewsExplorer</h1>\r\n      {screenWidth > 610 ?\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Navigation screenWidth={screenWidth} logOut={props.logOut} handleLoginClick={props.handleLoginClick} setSavedNewsPage={props.setSavedNewsPage} isSavedNewsPage={props.isSavedNewsPage} loggedIn={props.loggedIn} />\r\n      </CurrentUserContext.Provider>\r\n      : (isMobileMenuOpen ?\r\n        <>\r\n          <button onClick={mobileMenuSwitcher} area-label=\"Закрыть\" className=\"Header__mobile-menu Header__mobile-menu_close\"></button>\r\n          <CurrentUserContext.Provider value={currentUser}>\r\n            <Navigation screenWidth={screenWidth} logOut={props.logOut} handleLoginClick={props.handleLoginClick} setSavedNewsPage={props.setSavedNewsPage} isSavedNewsPage={props.isSavedNewsPage} loggedIn={props.loggedIn} />\r\n          </CurrentUserContext.Provider>\r\n        </>\r\n        : <button className={`Header__mobile-menu ${props.isSavedNewsPage && \"Header__mobile-menu_black\"}`} area-label=\"Открыть\" onClick={mobileMenuSwitcher}></button>)}\r\n    </header>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default Header;\r\n","// *текст\r\nexport const DEFAULT_PLACEHOLDER = 'Введите тему новости'\r\nexport const NEED_KEYWORD = 'Нужно ввести ключевое слово'\r\nexport const NOT_FIND = 'К сожалению по вашему запросу ничего не найдено'\r\nexport const CONNECTED_ERROR = 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\r\nexport const UNCORRECTED_EMAIL = 'email введен некорректно';\r\nexport const SHORT_PASS = 'Пароль слишком короткий';\r\nexport const PASS_RULES = 'Пароль может содержать только цифры и латиницу';\r\nexport const SHORT_NAME = 'Имя должно быть не менее двух символов';\r\nexport const LONG_NAME = 'Имя должно быть не более 30 символов';\r\nexport const CONFLICT_ERROR = 'Такой пользователь уже существует';\r\nexport const API_KEY = '96fb88023047493688f02442b20eac74';\r\nexport const UNAUTHORIZED_ERROR = 'Ошибка: Неправильный логин или пароль';\r\nexport const UNKNOWN_ERROR = 'Произошла непредвиденная ошибка. Проверьте интернет-соединение и поробуйте еще раз';\r\n// *ссылки\r\nexport const DEFAULT_PICTURE = 'https://cs.pikabu.ru/post_img/big/2013/08/24/1/1377296637_1500370441.png';\r\n// *привeдение даты в нужный вид\r\nlet date = new Date()\r\ndate.setDate(date.getDate() - 7);\r\nconst month = date.getMonth() + 1;\r\nconst year = date.toString().slice(11, 15);\r\nconst day = date.toString().slice(8, 10);\r\nexport const DATE_NORMALIZER = year.concat('-').concat(month.toString()).concat('-').concat(day);\r\n// *регулярки\r\nexport const NOT_EMPTY_REQUEST = /\\s+/;\r\nexport const HTML_UNTAGGER = /<\\/?[^>]+(>|$)/g;\r\nexport const EMAIL_CHECKER = /^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i;\r\nexport const PASS_CHECKER = /^[a-zA-Z0-9]{6,30}$/;\r\n\r\n","// **импорты\r\nimport React from 'react';\r\nimport * as NewsApi from '../../utils/NewsApi';\r\nimport { DEFAULT_PLACEHOLDER, NEED_KEYWORD, NOT_FIND, CONNECTED_ERROR, DEFAULT_PICTURE, NOT_EMPTY_REQUEST, HTML_UNTAGGER } from '../../utils/consts.js';\r\nimport './SearchForm.css';\r\nimport './styles/__title/SearchForm__title.css';\r\nimport './styles/__text/SearchForm__text.css';\r\nimport './styles/__form/SearchForm__form.css';\r\nimport './styles/__input/SearchForm__input.css';\r\nimport './styles/__input/_placeholder-error/SearchForm__input_placeholder-error.css';\r\nimport './styles/__button/SearchForm__button.css';\r\n\r\n// **Функционал\r\nfunction SearchForm(props) {\r\n  // *стейты\r\n  const[request, setRequest] = React.useState('');\r\n  const[placeholderText, setPlaceholderText]  = React.useState(DEFAULT_PLACEHOLDER);\r\n\r\n  // *эффект открытой страницы сохраненок\r\n  React.useEffect(() => {props.setSavedNewsPage(false);});\r\n\r\n  // *валидация кнопки сабмита\r\n  function handleSearchSubmit(e) {\r\n    e.preventDefault();\r\n    const regex = NOT_EMPTY_REQUEST;\r\n    if ((request.length === 0) || (regex.test(request))) {\r\n      setPlaceholderText(NEED_KEYWORD);\r\n    } else {\r\n      searchNews();\r\n      setPlaceholderText(DEFAULT_PLACEHOLDER);\r\n    }\r\n  }\r\n\r\n  // *поиск новостей\r\n  function searchNews() {\r\n    if (props.isDataLoaded) {\r\n      props.setResponseSending(false);\r\n      props.setDataLoaded(false);\r\n    }\r\n    props.setKeyword(request);\r\n    props.setResponseSending(true);\r\n    NewsApi.getNews(request)\r\n      .then((res) => {\r\n        return res.articles;\r\n      })\r\n        .then((articles) => {\r\n          let arr = [];\r\n          arr = articles.map((item) => {\r\n            const obj = {};\r\n            obj.title = item.title;\r\n            obj.keyword = request;\r\n            const cleanText = item.description.replace(HTML_UNTAGGER, \"\");\r\n            obj.text = cleanText;\r\n            const date = new Date(item.publishedAt);\r\n            const rusDate = date.toLocaleString('ru', {\r\n              year: 'numeric',\r\n              month: 'long',\r\n              day: 'numeric'\r\n            });\r\n            const dateArr = rusDate.split(' ');\r\n            const start = dateArr.slice(0, 2).join(' ');\r\n            const end = dateArr.slice(2).join(' ');\r\n            const comma = start.concat(', ').concat(end);\r\n            obj.date = comma;\r\n            obj.source = item.source.name;\r\n            obj.link = item.url;\r\n            if (!item.urlToImage) {\r\n              obj.image = DEFAULT_PICTURE\r\n            } else {\r\n            obj.image = item.urlToImage\r\n            };\r\n            return obj;\r\n          });\r\n          if (arr.length !== 0) {\r\n            const setNews = JSON.stringify(arr);\r\n            localStorage.setItem('news', setNews);\r\n            const getNews = JSON.parse(localStorage.getItem('news'));\r\n            props.setArticles(getNews);\r\n            props.setDataLoaded(true);\r\n          } else {\r\n            props.setSearchError(NOT_FIND);\r\n          }\r\n        })\r\n      .catch((err) => {\r\n        props.setSearchError(CONNECTED_ERROR);\r\n      });\r\n    props.scroller();\r\n  };\r\n\r\n  // *DOM\r\n  return (\r\n    <article className=\"SearchForm\">\r\n      <h1 className=\"SearchForm__title\">Что творится в мире?</h1>\r\n      <p className=\"SearchForm__text\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\r\n      <form className=\"SearchForm__form\">\r\n        <input required className={`SearchForm__input ${placeholderText === NEED_KEYWORD && \"SearchForm__input_placeholder-error\"}`} type='text' placeholder={placeholderText} onChange={e => setRequest(e.target.value)} value={request} id=\"search\" name=\"search\" />\r\n        <button className=\"SearchForm__button\" type='submit' onClick={ handleSearchSubmit }>Искать</button>\r\n      </form>\r\n    </article>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default SearchForm;\r\n","import { API_KEY, DATE_NORMALIZER } from './consts.js';\n\nexport const getNews = (keyword) => {\n\n  // *настраиваем url запроса\n  const BASE_URL = 'https://nomoreparties.co/news/v2/everything?' +\n    `q=${keyword}&` +\n    `from=${DATE_NORMALIZER}&` +\n    'sortBy=popularity&' +\n    `apiKey=${API_KEY}`;\n\n  // *сам запрос\n  return fetch(`${BASE_URL}`, {\n  method: 'GET'})\n  .then((res) => {\n    if(res.ok) {\n      return res.json();\n    }\n  })\n    .catch((e) => {\n      return (e)\n    })\n}","export const BASE_URL = 'http://api.diplom.students.nomoreparties.co';\r\n// *рега\r\nexport const register = (email, password, name) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password, name })\r\n  })\r\n  .then((res) => {\r\n    try {\r\n      if (res.status === 201) {\r\n        return res.json();\r\n      }\r\n      if (res.status === 409) {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    }\r\n    catch (err) {\r\n      return err;\r\n    }\r\n    })\r\n  .catch ((err) => {\r\n    return Promise.reject(err);\r\n  })\r\n}\r\n\r\n// *вход\r\nexport const login = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then((res) => {\r\n    try {\r\n      if (res.status === 200) {\r\n        return res.json();\r\n      }\r\n      if (res.status === 400) {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n      if (res.status === 401) {\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n      }\r\n    }\r\n    catch (err) {\r\n      return err;\r\n    }\r\n  })\r\n  .catch ((err) => {return Promise.reject(err)})\r\n  .then((data) => {\r\n      return data.token\r\n    })\r\n  .catch ((err) => {\r\n    return Promise.reject(err);\r\n  })\r\n}\r\n\r\n// *подгрузка данных\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n      headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n  .catch((err) => {\r\n    console.log(err);\r\n  })\r\n}\r\n\r\n// *получение сохраненных карточек\r\nexport const getArticles = (token) => {\r\n  return fetch(`${BASE_URL}/articles`, {\r\n    method: 'GET',\r\n    headers: {'Content-Type': 'application/json',\r\n    'Authorization': `Bearer ${token}`},\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n  })\r\n  .catch ((err) => {return Promise.reject(err)})\r\n}\r\n\r\n  // *добавление карточки\r\n  export const updateArticle = (token, keyword, article) => {\r\n    const { title, text, date, source, link, image } = article;\r\n    return fetch(`${BASE_URL}/articles`, {\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`},\r\n      body: JSON.stringify({ keyword, title, text, date, source, link, image })\r\n    })\r\n    .then((res) => {\r\n      try {\r\n        if (res.status === 201) {\r\n          return res.json();\r\n        }\r\n        if (res.status === 400) {\r\n          return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n        }\r\n        if (res.status === 401) {\r\n          return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n        }\r\n      }\r\n      catch (err) {\r\n        return err;\r\n      }\r\n    })\r\n    .then((res) => {\r\n      let oldArticles = JSON.parse(localStorage.getItem('articles'))\r\n      let updateArticles = [...oldArticles, res]\r\n      let last = updateArticles.reverse()[0]\r\n      updateArticles.reverse()\r\n      let result = JSON.stringify(updateArticles);\r\n      localStorage.setItem('articles', result);\r\n      return last})\r\n    .catch ((err) => {return Promise.reject(err)})\r\n  }\r\n\r\n\r\n  //*удаление карточки\r\n  export const deleteArticle = (token, id) => {\r\n    return fetch(`${BASE_URL}/articles/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`},\r\n    })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    })\r\n    .then((res) => {\r\n      let oldArticles = JSON.parse(localStorage.getItem('articles'))\r\n      let updateArticles = oldArticles.filter((item) => {\r\n        return item._id !== id\r\n      })\r\n      let result = JSON.stringify(updateArticles);\r\n      localStorage.removeItem('articles')\r\n      localStorage.setItem('articles', result)\r\n    })\r\n    .catch ((err) => {return Promise.reject(err)})\r\n  }\r\n","// **импорты\r\nimport React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport * as MainApi from '../../utils/MainApi';\r\nimport './NewsCardPanel.css';\r\nimport './styles/_savedPages/NewsCardPanel_savedPages.css';\r\nimport './styles/__keyword/NewsCardPanel__keyword.css';\r\nimport './styles/__tooltip/NewsCardPanel__tooltip.css';\r\nimport './styles/__button/NewsCardPanel__button.css';\r\nimport './styles/__button/_delete/NewsCardPanel__button_delete.css';\r\nimport './styles/__button/_save/NewsCardPanel__button_save.css';\r\nimport './styles/__button/_marked/NewsCardPanel__button_marked.css';\r\n\r\n// **Функционал\r\nfunction NewsCardPanel(props) {\r\n\r\n  // *сохранение статьи\r\n  function saveArticle() {\r\n    const token = localStorage.getItem('token');\r\n    MainApi.updateArticle(token, props.article.keyword, props.article)\r\n    .then((last) => {\r\n      setMarker(true);\r\n      const news = (JSON.parse(localStorage.getItem('news')));\r\n      const updateNews = news.map((item) => {\r\n        if (item.link === props.article.link) {\r\n          item._id = last._id;\r\n          item.marked = true;\r\n        }\r\n        return item;\r\n      })\r\n      localStorage.removeItem('news');\r\n      const setNews = (JSON.stringify(updateNews));\r\n      localStorage.setItem('news', setNews);\r\n    })\r\n    .then(() => {\r\n      const articles = (JSON.parse(localStorage.getItem('news')));\r\n      props.setArticles(articles);\r\n    })\r\n    .catch((err) => {\r\n      console.log(`Ошибка: ${err}`);\r\n    })\r\n  }\r\n\r\n  // *удаление статьи\r\n  function deleteArticle() {\r\n    const token = localStorage.getItem('token');\r\n    setMarker(false);\r\n    let id;\r\n    if (!props.article._id) {\r\n      const news = (JSON.parse(localStorage.getItem('news')));\r\n      const currentArticle = news.filter((item) => {\r\n        return item.link === props.article.link;\r\n      })\r\n      id = currentArticle[0]._id;\r\n    } else {\r\n      id = props.article._id;\r\n    }\r\n    MainApi.deleteArticle(token, id)\r\n    .then(() => {\r\n      const news = (JSON.parse(localStorage.getItem('news')));\r\n      const updateNews = news.map((item) => {\r\n      if (item._link !== props.article.link) {\r\n        item.marked = false;\r\n      }\r\n      return item;\r\n    })\r\n    const result = JSON.stringify(updateNews);\r\n    localStorage.removeItem('news');\r\n    localStorage.setItem('news', result);\r\n    const savedNews = (JSON.parse(localStorage.getItem('articles')));\r\n    props.updateSavedNews(savedNews);\r\n    })\r\n  }\r\n\r\n  // *установка метки\r\n  const [marker, setMarker] = React.useState(false);\r\n  React.useEffect(() => {\r\n    if (props.article.marked === true) {\r\n      setMarker(true);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  // *отмечаем выбранные карточки\r\n  function swichMarker() {\r\n    if (marker) {\r\n      unsaveArticle();\r\n    } else {\r\n      saveArticle();\r\n    }\r\n  }\r\n\r\n  // *снятие метки\r\n  function unsaveArticle() {\r\n    deleteArticle();\r\n  }\r\n\r\n  // *открытие попапа\r\n  function handlePopupOpen() {\r\n    props.setRegisterPopupOpen(true);\r\n  }\r\n\r\n  // **DOM\r\n  return props.loggedIn ?\r\n      (<>{props.isSavedNewsPage ?\r\n        (<div className={`NewsCardPanel ${props.isSavedNewsPage && \"NewsCardPanel_savedPages\"}`}>\r\n          <h2 className=\"NewsCardPanel__keyword\">{props.article.keyword}</h2>\r\n          <button type=\"button\" onClick={unsaveArticle} className=\"NewsCardPanel__button NewsCardPanel__button_delete\"></button>\r\n          <h2 className=\"NewsCardPanel__tooltip\">Убрать из сохранённых</h2>\r\n        </div>) :\r\n      (<div className=\"NewsCardPanel\">\r\n        <button type=\"button\" onClick={swichMarker} className={`NewsCardPanel__button NewsCardPanel__button_save ${marker && \"NewsCardPanel__button_marked\"}`}></button>\r\n      </div>)}\r\n    </>) :\r\n    (<div className=\"NewsCardPanel\">\r\n      <button className=\"NewsCardPanel__button NewsCardPanel__button_save\" onClick={handlePopupOpen}></button>\r\n      <h2 className=\"NewsCardPanel__tooltip\" onClick={() => <Redirect to={{ path: \"/\", state: { setLoginPopupOpen: true } }}/>} >Войдите, чтобы сохранять статьи</h2>\r\n    </div>)\r\n};\r\n\r\n// **экспорт\r\nexport default NewsCardPanel;\r\n","// **импорты\r\nimport React from 'react';\r\nimport NewsCardPanel from '../NewsCardPanel/NewsCardPanel';\r\nimport './NewsCard.css';\r\nimport './styles/__image/NewsCard__image.css';\r\nimport './styles/__text-content/NewsCard__text-content.css';\r\nimport './styles/__date/NewsCard__date.css';\r\nimport './styles/__title/NewsCard__title.css';\r\nimport './styles/__text/NewsCard__text.css';\r\nimport './styles/__source/NewsCard__source.css';\r\n\r\n// **Функционал\r\nfunction NewsCard(props) {\r\n  return (\r\n    <section className=\"NewsCard\">\r\n      <a href={props.article.link} target=\"blank\" style={{ display: 'contents' }}><img className=\"NewsCard__image\" src={props.article.image} alt='caption'/></a>\r\n      <NewsCardPanel\r\n        loggedIn={props.loggedIn}\r\n        isSavedNewsPage={props.isSavedNewsPage}\r\n        article={props.article}\r\n        setArticles={props.setArticles}\r\n        keyword={props.keyword}\r\n        saveArticle={props.saveArticle}\r\n        updateSavedNews={props.updateSavedNews}\r\n        setRegisterPopupOpen={props.setRegisterPopupOpen} />\r\n      <a style={{ textDecoration: 'none' }} href={props.article.link} target=\"blank\">\r\n        <p className=\"NewsCard__text-content NewsCard__date\">{props.article.date}</p>\r\n        <h1 className=\"NewsCard__text-content NewsCard__title\">{props.article.title}</h1>\r\n        <h2 className=\"NewsCard__text-content NewsCard__text\">{props.article.text}</h2>\r\n        <h3 className=\"NewsCard__text-content NewsCard__source\">{props.article.source}</h3>\r\n      </a>\r\n    </section>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default NewsCard;\r\n","// **импорты\r\nimport React, { useState } from 'react';\r\nimport NewsCard from '../NewsCard/NewsCard';\r\nimport './NewsCardList.css';\r\nimport './styles/__title/NewsCardList__title.css';\r\nimport './styles/__container/NewsCardList__container.css';\r\nimport './styles/__button/NewsCardList__button.css';\r\n\r\n// **Функционал\r\nfunction NewsCardList(props) {\r\n  // *получаем массив найденных новостных карточек\r\n  const savedNews = JSON.parse(localStorage.getItem('articles'));\r\n\r\n  // *получаем массив сохраненных новостных карточек\r\n  let getNews = JSON.parse(localStorage.getItem('news'));\r\n\r\n  // *отбираем 3 первых в списке\r\n  let firstNews = [];\r\n  function firstNewsCutter() {\r\n    if ((getNews !== null) && (getNews !== undefined)) {\r\n      firstNews = getNews.slice(0, 3);\r\n    }\r\n  }\r\n  firstNewsCutter()\r\n\r\n  // *устанавливаем отображаемые на странице карточки\r\n  const [newsCards, setNewsCards] = useState(firstNews);\r\n\r\n  // *карточки после третьей\r\n  let otherNews = [];\r\n  function otherNewsCutter() {\r\n    if ((getNews !== null) && (getNews !== undefined)) {\r\n      otherNews = getNews.slice(3);\r\n    }\r\n  }\r\n  otherNewsCutter()\r\n\r\n  // *скрытые карточки\r\n  const [hiddenNews, setHiddenNews] = useState(otherNews);\r\n\r\n  // *подгрузка следующей тройки\r\n  function getMoreNews() {\r\n    const moreNews = hiddenNews.slice(0, 3);\r\n    const other = hiddenNews.slice(3);\r\n    setHiddenNews(other);\r\n    setNewsCards([...newsCards, ...moreNews]);\r\n  }\r\n\r\n  // **DOM\r\n  return (\r\n    <article className=\"NewsCardList\">\r\n      {props.isSavedNewsPage ?\r\n      <section className='NewsCardList__container'>\r\n      {savedNews.map((article) => (\r\n        <NewsCard key={article._id}\r\n          NewsCard={NewsCard}\r\n          loggedIn={props.loggedIn}\r\n          isSavedNewsPage={props.isSavedNewsPage}\r\n          setArticles={props.setArticles}\r\n          article={article}\r\n          keyword={props.keyword}\r\n          updateSavedNews={props.updateSavedNews} />\r\n      ))}\r\n      </section>:\r\n      <>\r\n        <h1 className=\"NewsCardList__title\">Результаты поиска</h1>\r\n        <section className='NewsCardList__container'>\r\n          {newsCards.map((article, i) => (\r\n            <NewsCard key={i}\r\n              NewsCard={NewsCard}\r\n              loggedIn={props.loggedIn}\r\n              isSavedNewsPage={props.isSavedNewsPage}\r\n              setArticles={props.setArticles}\r\n              article={article}\r\n              keyword={props.keyword}\r\n              updateSavedNews={props.updateSavedNews}\r\n              setRegisterPopupOpen={props.setRegisterPopupOpen} />\r\n          ))}\r\n        </section>\r\n        {hiddenNews.length > 0 ? <button type=\"button\" className=\"NewsCardList__button\" onClick={getMoreNews}>Показать еще</button> : '' }\r\n      </>}\r\n    </article>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default NewsCardList;\r\n","// **импорты\r\nimport React from 'react';\r\nimport './Preloader.css';\r\nimport './styles/__figure/Preloader__figure.css';\r\nimport './styles/__figure-bigcircle/Preloader__figure-bigcircle.css';\r\nimport './styles/__figure-smallcircle/Preloader__figure-smallcircle.css';\r\nimport './styles/__figure-smallcircle/_left/Preloader__figure-smallcircle_left.css';\r\nimport './styles/__figure-smallcircle/_right/Preloader__figure-smallcircle_right.css';\r\nimport './styles/__figure-smallcircle/Preloader__figure-smallcircle.css';\r\nimport './styles/__figure-smile/Preloader__figure-smile.css';\r\nimport './styles/__figure-tail/Preloader__figure-tail.css';\r\nimport './styles/__rotator/Preloader__rotator.css';\r\nimport './styles/__text/Preloader__text.css';\r\nimport './styles/__errorTitle/Preloader__errorTitle.css';\r\n\r\n// **Функционал\r\nfunction Preloader(props) {\r\n  return (\r\n      props.searchError !== '' ?\r\n      <section className=\"Preloader\">\r\n        <figure className=\"Preloader__figure\">\r\n          <div className=\"Preloader__figure-bigcircle\"></div>\r\n          <div className=\"Preloader__figure-smallcircle Preloader__figure-smallcircle_left\"></div>\r\n          <div className=\"Preloader__figure-smallcircle Preloader__figure-smallcircle_right\"></div>\r\n          <div className=\"Preloader__figure-smile\"></div>\r\n          <div className=\"Preloader__figure-tail\"></div>\r\n        </figure>\r\n        <h1 className=\"Preloader__errorTitle\">Ничего не найдено</h1>\r\n        <p className=\"Preloader__text\">{props.searchError}</p>\r\n      </section> :\r\n      <section className=\"Preloader\">\r\n        <figure className=\"Preloader__rotator\"></figure>\r\n        <p className=\"Preloader__text\">Идет поиск новостей...</p>\r\n      </section>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default Preloader;\r\n","// **импорты\r\nimport React from 'react';\r\nimport authorAvatar from '../../images/authorAvatar-min.jpg';\r\nimport './About.css';\r\nimport './styles/__avatar/About__avatar.css';\r\nimport './styles/__title/About__title.css';\r\nimport './styles/__text/About__text.css';\r\n\r\n// **Функционал\r\nfunction About() {\r\n  return (\r\n    <article className=\"About\">\r\n      <img className=\"About__avatar\" alt='avatar' src={ authorAvatar } />\r\n      <h1 className=\"About__title\">Об авторе</h1>\r\n      <p className=\"About__text\">Раздолбай, компъютерный гений, и.т.д... Чего я только в свою сторону не слышал, но чтобы я о себе не написал, решать вам, верить моим словам или нет. Так что не стану многословить, судите меня по тому, что я делаю.</p>\r\n    </article>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default About;\r\n","// **импорты\r\nimport React from 'react';\r\nimport NewsCardList from '../NewsCardList/NewsCardList';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport About from '../About/About';\r\nimport './Main.css';\r\n\r\n// **Функционал\r\nfunction Main(props) {\r\n  return (\r\n    <main className=\"Main\">\r\n      {props.isResponseSending\r\n        ? (props.isDataLoaded\r\n          ? <NewsCardList\r\n              loggedIn={props.loggedIn}\r\n              isSavedNewsPage={props.isSavedNewsPage}\r\n              setArticles={props.setArticles}\r\n              updateSavedNews={props.updateSavedNews}\r\n              keyword={props.keyword}\r\n              setRegisterPopupOpen={props.setRegisterPopupOpen} />\r\n          : <Preloader searchError={props.searchError} />)\r\n        : ''}\r\n      <About />\r\n    </main>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default Main;\r\n","// ***импорты\r\nimport React from 'react';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport './SavedNewsHeader.css';\r\nimport './styles/__title/SavedNewsHeader__title.css';\r\nimport './styles/__caption/SavedNewsHeader__caption.css';\r\nimport './styles/__hashtag-information/SavedNewsHeader__hashtag-information.css';\r\n\r\n// ***Функционал\r\nfunction SavedNewsHeader() {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  // **берем массив из локалки\r\n  const savedNews = JSON.parse(localStorage.getItem('articles'));\r\n\r\n  // **получаем массив хэштэгов\r\n  const hashtags = savedNews.map((item) => {\r\n    return item.keyword;\r\n  })\r\n\r\n  // **счетчик количества сохраненных новостей\r\n  const newsQuantity = savedNews.length;\r\n\r\n  // **функция сортировки и отброса повторяющихся хэштэгов\r\n  // *сосчитаем повторяющиеся хэштэги\r\n  const repeatCounter = hashtags.reduce((p, i) => {\r\n    if (!p[i]) { p[i] = 1; } else { p[i] += 1; }\r\n    return p; }, {});\r\n  // *отсортируем массив по количеству повторов\r\n  const arrayNormalizer = Object.keys(repeatCounter).sort((a,b) => {\r\n    return repeatCounter[b] - repeatCounter[a]});\r\n\r\n  // **функция выбора вступительного текста по количеству хэштэгов\r\n  function textCreator() {\r\n    if (arrayNormalizer.length === 1) {\r\n      return 'По ключевому слову: ';\r\n    } else {\r\n      return 'По ключевым словам: ';\r\n    }\r\n  }\r\n  textCreator();\r\n\r\n  // **функция возврата ТОП-2 хэштэгов\r\n  function hashtagsCreator() {\r\n    if (arrayNormalizer.length === 1) {\r\n      return `${arrayNormalizer[0]}`;\r\n    } else if (arrayNormalizer.length === 2) {\r\n      return `${arrayNormalizer[0]} и ${arrayNormalizer[1]}`;\r\n    } else {\r\n      return `${arrayNormalizer[0]}, ${arrayNormalizer[1]} `;\r\n    }\r\n  }\r\n\r\n  // **функция возврата хэштегов вне ТОП-2\r\n  function hashtagsExcesser() {\r\n    const excess = arrayNormalizer.length - 2;\r\n    if (arrayNormalizer.length === 3) {\r\n      return `${arrayNormalizer[2]}`;\r\n    } else if ((arrayNormalizer.length > 3) && (arrayNormalizer.length < 7)){\r\n      return `${excess}-м другим`;\r\n    } else {\r\n      return `${excess}-и другим`;\r\n    }\r\n  }\r\n\r\n  // **функция подбора окончаний в зависимости от числительного\r\n  let newsQuantityText;\r\n  function newsQuantityTextCreator() {\r\n    if (newsQuantity === 1) {\r\n      newsQuantityText = 'сохранённая статья';\r\n    } else if ((newsQuantity > 1) && (newsQuantity < 5)) {\r\n      newsQuantityText = 'сохранённых статьи';\r\n    } else {\r\n      newsQuantityText = 'сохранённых статей';\r\n    }\r\n  };\r\n  newsQuantityTextCreator()\r\n\r\n  // ***DOM\r\n  return (\r\n    <article className=\"SavedNewsHeader\">\r\n      <p className=\"SavedNewsHeader__caption\">Сохранённые статьи</p>\r\n      <h1 className=\"SavedNewsHeader__title\">{`${currentUser.name}, у вас ${newsQuantity} ${newsQuantityText}`}</h1>\r\n      {hashtags.length > 0 ?\r\n        (arrayNormalizer.length < 3 ? <h2 className=\"SavedNewsHeader__hashtag-information\">{textCreator()}<b>{hashtagsCreator()}</b></h2>\r\n        : <h2 className=\"SavedNewsHeader__hashtag-information\">{textCreator()}<b>{hashtagsCreator()}</b>и <b>{hashtagsExcesser()}</b></h2>)\r\n      : ''}\r\n    </article>\r\n  )\r\n};\r\n\r\n// ***экспорт\r\nexport default SavedNewsHeader;\r\n","// *импорты\r\nimport React, { useEffect } from 'react';\r\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\r\nimport NewsCardList from '../NewsCardList/NewsCardList';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport './SavedNews.css';\r\n\r\n// *Функционал\r\nfunction SavedNews(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  useEffect(() => {props.setSavedNewsPage(true);});\r\n\r\n  // *DOM\r\n  return (\r\n    <main className=\"SavedNews\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n       <SavedNewsHeader\r\n       loggedIn={props.loggedIn} />\r\n      </CurrentUserContext.Provider>\r\n      <NewsCardList\r\n        loggedIn={props.loggedIn}\r\n        isSavedNewsPage={props.isSavedNewsPage}\r\n        setArticles={props.setArticles}\r\n        updateSavedNews={props.updateSavedNews} />\r\n    </main>\r\n  )\r\n};\r\n\r\n// *экспорт\r\nexport default SavedNews;\r\n","// **импорты\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport githubLogo from '../../images/github.svg';\r\nimport facebookLogo from '../../images/facebook.svg';\r\nimport './Footer.css';\r\nimport './styles/__copyright/Footer__copyright.css';\r\nimport './styles/__links/Footer__links.css';\r\nimport './styles/__text-link/Footer__text-link.css';\r\nimport './styles/__text-link/Footer__text-link.css';\r\nimport './styles/__social-link/Footer__social-link.css';\r\nimport './styles/__social-link/_mobile-position/Footer__social-link_mobile-position.css';\r\n\r\n// **Функционал\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"Footer\">\r\n      <p className=\"Footer__copyright\">© 2020 Алексей Акулич, Powered by News API</p>\r\n      <ul className=\"Footer__links\">\r\n        <li style={{ listStyle: 'none' }}>\r\n          <Link to='/' className=\"Footer__text-link\">Главная</Link>\r\n        </li>\r\n        <li style={{ listStyle: 'none' }}>\r\n          <a href='https://praktikum.yandex.ru/' className=\"Footer__text-link\" target=\"blank\">Яндекс.Практикум</a>\r\n        </li>\r\n        <li style={{ listStyle: 'none' }}>\r\n          <a href='https://github.com/loki87by' className=\"Footer__social-link Footer__social-link_mobile-position\" target=\"blank\">\r\n            <img src={ githubLogo } alt='github' />\r\n          </a>\r\n        </li>\r\n        <li style={{ listStyle: 'none' }}>\r\n          <a href='https://www.facebook.com/akyla666/' className=\"Footer__social-link\" target=\"blank\">\r\n          <img alt='facebook' src={ facebookLogo } />\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </footer>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default Footer;\r\n","// **импорты\r\nimport React from 'react';\r\nimport './PopupWithForm.css';\r\nimport './styles/_opened/PopupWithForm_opened.css';\r\nimport './styles/__container/PopupWithForm__container.css';\r\nimport './styles/__close/PopupWithForm__close.css';\r\nimport './styles/__text/PopupWithForm__text.css';\r\nimport './styles/__label/PopupWithForm__label.css';\r\nimport './styles/__input/PopupWithForm__input.css';\r\nimport './styles/__error/PopupWithForm__error.css';\r\nimport './styles/__error/_registrationError/PopupWithForm__error_registrationError.css';\r\nimport './styles/__submit/PopupWithForm__submit.css';\r\nimport './styles/__subsidiary-text/PopupWithForm__subsidiary-text.css';\r\nimport './styles/__link/PopupWithForm__link.css';\r\n\r\n// **функционал\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <section className={`PopupWithForm ${props.isOpen && \"PopupWithForm_opened\"}`} id={props.name}>\r\n      <form className=\"PopupWithForm__container\" name={props.name} onSubmit={props.onSubmit} method=\"POST\" action=\"#\" id=\"PopupWithForm\">\r\n        <button className=\"PopupWithForm__close\" type=\"reset\" aria-label=\"Закрыть\" onClick={props.onClose} id=\"closeAllPopups\"></button>\r\n        <h1 className=\"PopupWithForm__text\">{props.title}</h1>\r\n        <label htmlFor=\"email\" className=\"PopupWithForm__label\">Email\r\n          <input required type=\"text\"\r\n          className=\"PopupWithForm__input\"\r\n          onChange={e => props.handleEmailChange(e)}\r\n          value={props.userEmail}\r\n          placeholder=\"Введите почту\"\r\n          id={props.emailId}\r\n          name=\"email\"\r\n          disabled={props.isRequestSending ? true : false } />\r\n          <span className=\"PopupWithForm__error\">{props.isValidEmail ? ' ' : props.invalidEmailMessage}</span>\r\n        </label>\r\n        <label htmlFor=\"pass\" className=\"PopupWithForm__label\">Пароль\r\n          <input required type=\"password\"\r\n          className=\"PopupWithForm__input\"\r\n          onChange={e => props.handlePasswordChange(e)}\r\n          value={props.userPassword}\r\n          placeholder=\"Введите пароль\"\r\n          id={props.passiD} name=\"pass\"\r\n          disabled={props.isRequestSending ? true : false } />\r\n          <span className=\"PopupWithForm__error\">{props.isValidPassword ? ' ' : props.invalidPasswordMessage}</span>\r\n        </label>\r\n        {props.children}\r\n        <button type=\"submit\" className=\"PopupWithForm__submit\" onClick={props.handleSubmit}\r\n          disabled={(props.name === 'login' ?\r\n            (props.isValidEmail && props.isValidPassword) :\r\n            (props.isValidEmail && props.isValidPassword && props.isValidName))\r\n              ? false : \"disabled\"}\r\n          style={{ backgroundColor: `${(props.name === 'login'\r\n            ? (props.isValidEmail && props.isValidPassword)\r\n            : (props.isValidEmail && props.isValidPassword && props.isValidName))\r\n              ? '' : \"#E6E8EB\"}`,\r\n          color: `${(props.name === 'login'\r\n            ? (props.isValidEmail && props.isValidPassword)\r\n            : (props.isValidEmail && props.isValidPassword && props.isValidName))\r\n              ? '' : \"#B6BCBF\"}` }}>\r\n        {props.link}</button>\r\n        <p className=\"PopupWithForm__subsidiary-text\">или&nbsp;\r\n          <button onClick={props.changeLink} type=\"button\" className=\"PopupWithForm__subsidiary-text PopupWithForm__link\">{props.antilink}</button>\r\n        </p>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\n// **экспорт\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport '../PopupWithForm/styles/__label/PopupWithForm__label.css';\r\nimport '../PopupWithForm/styles/__input/PopupWithForm__input.css';\r\nimport '../PopupWithForm/styles/__error/PopupWithForm__error.css';\r\nimport '../PopupWithForm/styles/__error/_registrationError/PopupWithForm__error_registrationError.css';\r\n\r\nfunction Registration(props) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.setRequestSending(true)\r\n    if (props.isValidEmail && props.isValidPassword && props.isValidName)\r\n    {\r\n      props.onRegister();\r\n      return\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm isOpen={props.isOpen}\r\n      onClose={props.closeAllPopups}\r\n      onSubmit={handleSubmit}\r\n      name=\"registration\"\r\n      title={'Регистрация'}\r\n      link={'Зарегистрироваться'}\r\n      antilink={' Войти'}\r\n      emailId={'regEmail'}\r\n      passiD={'regPass'}\r\n      userEmail={props.userEmail}\r\n      userPassword={props.userPassword}\r\n      changeLink={props.changeLink}\r\n      isValidEmail={props.isValidEmail}\r\n      invalidEmailMessage={props.invalidEmailMessage}\r\n      handleEmailChange={props.handleEmailChange}\r\n      isValidPassword={props.isValidPassword}\r\n      invalidPasswordMessage={props.invalidPasswordMessage}\r\n      handlePasswordChange={props.handlePasswordChange}\r\n      isValidName={props.isValidName}\r\n      invalidNameMessage={props.invalidNameMessage}\r\n      handleNameChange={props.handleNameChange}\r\n      isRequestSending={props.isRequestSending} children={\r\n        <>\r\n        <label htmlFor=\"name\" className=\"PopupWithForm__label\">Имя\r\n            <input required type=\"name\" className=\"PopupWithForm__input\" onChange={e => props.handleNameChange(e)} value={props.userName}\r\n            placeholder=\"Введите своё имя\" id=\"name\" name=\"name\" />\r\n            <span className=\"PopupWithForm__error\">{props.isValidName ? ' ' : props.invalidNameMessage}</span>\r\n          </label>\r\n          <span className=\"PopupWithForm__error PopupWithForm__error_registrationError\">{ props.registrationError }</span>\r\n        </>}/>\r\n  );\r\n}\r\n\r\nexport default Registration\r\n","import React from 'react';\r\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\r\nimport '../PopupWithForm/styles/__error/PopupWithForm__error.css';\r\nimport '../PopupWithForm/styles/__error/_loginError/PopupWithForm__error_loginError.css';\r\n\r\nfunction Login(props) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.setRequestSending(true)\r\n    props.onLogin();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm isOpen={props.isOpen}\r\n      onClose={props.closeAllPopups}\r\n      onSubmit={handleSubmit}\r\n      name=\"login\"\r\n      title={'Вход'}\r\n      link={'Войти'}\r\n      emailId={'loginEmail'}\r\n      passiD={'loginPass'}\r\n      antilink={' Зарегистрироваться'}\r\n      userEmail={props.userEmail}\r\n      userPassword={props.userPassword}\r\n      changeLink={props.changeLink}\r\n      isValidEmail={props.isValidEmail}\r\n      invalidEmailMessage={props.invalidEmailMessage}\r\n      handleEmailChange={props.handleEmailChange}\r\n      isValidPassword={props.isValidPassword}\r\n      invalidPasswordMessage={props.invalidPasswordMessage}\r\n      handlePasswordChange={props.handlePasswordChange}\r\n      isValidName={props.isValidName}\r\n      isRequestSending={props.isRequestSending} children={\r\n        <span className=\"PopupWithForm__error PopupWithForm__error_loginError\">{ props.loginError }</span>\r\n      } />\r\n  );\r\n}\r\n\r\nexport default Login\r\n","// **импорты\r\nimport React from 'react';\r\nimport './TooltipPopup.css';\r\nimport './styles/_opened/TooltipPopup_opened.css';\r\nimport './styles/__container/TooltipPopup__container.css';\r\nimport './styles/__close/TooltipPopup__close.css';\r\nimport './styles/__text/TooltipPopup__text.css';\r\nimport './styles/__link/TooltipPopup__link.css';\r\n\r\n// **функционал\r\nfunction TooltipPopup(props) {\r\n\r\n  // *переадресация к форме входа\r\n  function redirectToLogin() {\r\n    props.onClose();\r\n    props.handleLoginClick();\r\n  }\r\n\r\n  // *закрытие по esc\r\n  function handleEscClose(e) {\r\n    if (e.key === \"Escape\") {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  // *закрытие оверлеем\r\n  function handleClickClose(e) {\r\n    if (e.target.classList.contains('TooltipPopup_opened')) {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  // *слушатель закрытий\r\n  React.useEffect(() => {\r\n    window.addEventListener('keydown', handleEscClose);\r\n    window.addEventListener('click', handleClickClose);\r\n  })\r\n\r\n  // **DOM\r\n  return (\r\n    <section className={`TooltipPopup ${props.isOpen && \"TooltipPopup_opened\"}`} id='TooltipPopup'>\r\n      <div className=\"TooltipPopup__container\">\r\n        <button className=\"TooltipPopup__close\" type=\"button\" aria-label=\"Закрыть\" onClick={ props.onClose } id=\"closeTooltip\"></button>\r\n        <h1 className=\"TooltipPopup__text\">Пользователь успешно зарегистрирован!</h1>\r\n        <button onClick={redirectToLogin} type=\"button\" className=\"TooltipPopup__link\">Войти</button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n// **экспорт\r\nexport default TooltipPopup;","// *импорты\r\nimport React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n// *функционал\r\nconst ProtectedRoute = ({component: Component, ...props}) => {\r\n  React.useEffect(() => {\r\n    if (!props.loggedIn) {\r\n      props.handleLoginClick();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Route>\r\n      {\r\n      () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\"/>\r\n      }\r\n    </Route>\r\n  )\r\n};\r\n\r\n// *экспорт\r\nexport default ProtectedRoute;","// ***импорты\r\nimport React, { useEffect } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport { ScrollTo } from \"react-scroll-to\";\r\nimport Header from '../Header/Header';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport Main from '../Main/Main';\r\nimport SavedNews from '../SavedNews/SavedNews';\r\nimport Footer from '../Footer/Footer';\r\nimport Registration from '../Registration/Registration';\r\nimport Login from '../Login/Login';\r\nimport TooltipPopup from '../TooltipPopup/TooltipPopup';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport {CurrentUserContext} from '../../contexts/CurrentUserContext';\r\nimport { EMAIL_CHECKER,\r\n  UNCORRECTED_EMAIL,\r\n  PASS_CHECKER,\r\n  SHORT_PASS,\r\n  PASS_RULES,\r\n  SHORT_NAME,\r\n  CONFLICT_ERROR,\r\n  LONG_NAME,\r\n  UNAUTHORIZED_ERROR,\r\n  UNKNOWN_ERROR } from '../../utils/consts.js';\r\nimport * as MainApi from '../../utils/MainApi';\r\nimport './App.css';\r\nimport './styles/App__background.css';\r\nimport './styles/App__background-image.css';\r\n\r\n// ***Функционал\r\nfunction App() {\r\n  // **стейты\r\n  // *глобальные стейты\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isSavedNewsPage, setSavedNewsPage] = React.useState(false);\r\n  // *стейты попапов\r\n  const [isRegisterPopupOpen, setRegisterPopupOpen] = React.useState(false);\r\n  const [isLoginPopupOpen, setLoginPopupOpen] = React.useState(false);\r\n  const [isInformationPopupOpen, setInformationPopupOpen] = React.useState(false);\r\n  const [registrationError, setRegistrationError] = React.useState('');\r\n  const [loginError, setLoginError] = React.useState('');\r\n  // *стейты валидации\r\n  const [isValidEmail, setValidEmail] = React.useState(false);\r\n  const [invalidEmailMessage, setInvalidEmailMessage] = React.useState('');\r\n  const [isValidPassword, setValidPassword] = React.useState(false);\r\n  const [isValidName, setValidName] = React.useState(false);\r\n  const [invalidPasswordMessage, setInvalidPasswordMessage] = React.useState('');\r\n  const [invalidNameMessage, setInvalidNameMessage] = React.useState('');\r\n  const [isRequestSending, setRequestSending] = React.useState(false);\r\n  // *стейты карточек\r\n  const [articles, setArticles] = React.useState([]);\r\n  const [savedNews, updateSavedNews] = React.useState([]);\r\n  // *стейты пользователя\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [userEmail, setUserEmail] = React.useState('');\r\n  const [userPassword, setUserPassword] = React.useState('');\r\n  const [userName, setUserName] = React.useState('');\r\n  // *стейты поиска\r\n  const [isResponseSending, setResponseSending] = React.useState(false);\r\n  const [isDataLoaded, setDataLoaded] = React.useState(false);\r\n  const [searchError, setSearchError] = React.useState('');\r\n  const [keyword, setKeyword] = React.useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  // **регистрация\r\n  function handleRegisterClick() {\r\n    setRequestSending(true)\r\n    console.log(isRequestSending)\r\n    MainApi.register(userEmail, userPassword, userName)\r\n    .then((res) => {\r\n      if(res) {\r\n        handlePopupClose();\r\n        setInformationPopupOpen(true);\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      setInformationPopupOpen(false);\r\n      if(err.message.includes(409)) {\r\n        setRegistrationError(CONFLICT_ERROR);\r\n        document.getElementById('regEmail').addEventListener('input', changeInputListener);\r\n        document.getElementById('regPass').addEventListener('input', changeInputListener);\r\n      } else {\r\n        setRegistrationError(UNKNOWN_ERROR);\r\n      }\r\n    });\r\n    setRequestSending(false)\r\n  }\r\n\r\n  // **авторизация\r\n  // *попап логина\r\n  function handleLoginClick() {\r\n    setLoginPopupOpen(true);\r\n  }\r\n\r\n  // *обращение к API\r\n  function onLogin() {\r\n    setResponseSending(true)\r\n    MainApi.login(userEmail, userPassword)\r\n    .then((token) => {\r\n      if (token){\r\n        localStorage.setItem('token', token);\r\n        handlePopupClose();\r\n        sourceLoading();\r\n      }\r\n    }\r\n    )\r\n    .catch((err) => {\r\n      if(err.message.includes(401)) {\r\n        setLoginError(UNAUTHORIZED_ERROR);\r\n        document.getElementById('loginEmail').addEventListener('input', changeInputListener);\r\n        document.getElementById('loginPass').addEventListener('input', changeInputListener);\r\n      } else {\r\n        setLoginError(UNKNOWN_ERROR);\r\n      }\r\n    });\r\n    setResponseSending(false)\r\n  }\r\n\r\n  // *получение данных пользователя\r\n  function sourceLoading() {\r\n    const token = localStorage.getItem('token');\r\n    MainApi.getContent(token)\r\n    .then((user) => {\r\n      setCurrentUser(user);\r\n      setLoggedIn(true);\r\n      history.push('/');\r\n    })\r\n    .catch(() => logOut())\r\n    .finally(() => {\r\n      MainApi.getArticles(token)\r\n      .then((articles) => {\r\n        const news = JSON.stringify(articles);\r\n        localStorage.setItem('articles', news);\r\n        updateSavedNews(articles);\r\n        const findedNews = localStorage.getItem('news');\r\n        if (findedNews) {\r\n          setResponseSending(true);\r\n          setDataLoaded(true);\r\n          setArticles(JSON.parse(findedNews));\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    })\r\n  }\r\n\r\n  // *подгрузка данных залогиненного юзера\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if(token) {\r\n      sourceLoading(token);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // *обнуление ошибки\r\n  function changeInputListener() {\r\n    const oldEmail = userEmail;\r\n    const oldPassword = userPassword;\r\n    let newEmail;\r\n    let newPassword;\r\n    if (isLoginPopupOpen) {\r\n      newEmail = document.getElementById('loginEmail').value;\r\n    } else {\r\n      newEmail = document.getElementById('regEmail').value;\r\n    }\r\n    if (isLoginPopupOpen) {\r\n      newPassword = document.getElementById('loginPass').value;\r\n    } else {\r\n      newPassword = document.getElementById('regPass').value;\r\n    }\r\n    if ((oldEmail !== newEmail) || (oldPassword !== newPassword)) {\r\n      setLoginError('');\r\n      setRegistrationError('');\r\n      document.getElementById('regEmail').removeEventListener('input', changeInputListener);\r\n      document.getElementById('regPass').removeEventListener('input', changeInputListener);\r\n      document.getElementById('loginEmail').removeEventListener('input', changeInputListener);\r\n      document.getElementById('loginPass').removeEventListener('input', changeInputListener);\r\n    }\r\n  }\r\n\r\n  // **закрытие модальных окон\r\n  function handlePopupClose() {\r\n    setLoginPopupOpen(false);\r\n    setInformationPopupOpen(false);\r\n    setRegisterPopupOpen(false);\r\n    setUserEmail('');\r\n    setUserPassword('');\r\n    setUserName('');\r\n    setInvalidEmailMessage('');\r\n    setInvalidPasswordMessage('');\r\n    setInvalidNameMessage('');\r\n  }\r\n\r\n  // *закрытие по esc\r\n  function handleEscClose(e) {\r\n    if (e.key === \"Escape\") {\r\n      handlePopupClose();\r\n    }\r\n  }\r\n  // *закрытие по оверлею\r\n  function handleClickClose(e) {\r\n    if (e.target.classList.contains('PopupWithForm_opened')) {\r\n      handlePopupClose();\r\n    }\r\n  }\r\n\r\n  // *слушатели закрытий\r\n  React.useEffect(() => {\r\n    window.addEventListener('keydown', handleEscClose);\r\n    window.addEventListener('click', handleClickClose);\r\n  })\r\n\r\n  // *ввод и проверка валидности мыла\r\n  function handleEmailChange(e) {\r\n    setUserEmail(e.target.value);\r\n    const email = e.target.value;\r\n    const reg = EMAIL_CHECKER;\r\n    const test = reg.test(email);\r\n    if (test) {\r\n      setValidEmail(true);\r\n    } else if(email.length < 1) {\r\n      setValidEmail(false);\r\n      setInvalidEmailMessage('');\r\n    } else {\r\n      setInvalidEmailMessage(UNCORRECTED_EMAIL);\r\n      setValidEmail(false);\r\n    }\r\n}\r\n\r\n  // *ввод и проверка валидности пароля\r\n  function handlePasswordChange(e) {\r\n    setUserPassword(e.target.value);\r\n    const pass = e.target.value;\r\n    const reg = PASS_CHECKER;\r\n    const test = reg.test(pass);\r\n    if (pass.length === 0) {\r\n      setInvalidPasswordMessage('');\r\n      setValidPassword(false);\r\n    } else if((pass.length < 8) && (pass.length > 0)) {\r\n      setValidPassword(false);\r\n      setInvalidPasswordMessage(SHORT_PASS);\r\n    } else if(test) {\r\n      setInvalidPasswordMessage('');\r\n      setValidPassword(true);\r\n    } else {\r\n      setInvalidPasswordMessage(PASS_RULES);\r\n      setValidPassword(false);\r\n    }\r\n  }\r\n\r\n  // *ввод и проверка валидности имени\r\n  function handleNameChange(e) {\r\n    setUserName(e.target.value);\r\n    const name = e.target.value;\r\n    if (name.length < 2) {\r\n      setInvalidNameMessage(SHORT_NAME);\r\n      setValidName(false);\r\n    } else if (name.length > 30) {\r\n      setInvalidNameMessage(LONG_NAME);\r\n      setValidName(false);\r\n    } else {\r\n      setValidName(true);\r\n      setInvalidNameMessage('');\r\n    }\r\n  }\r\n\r\n   // *смена формы\r\n   function changeLink() {\r\n    if (isRegisterPopupOpen) {\r\n      setRegisterPopupOpen(false);\r\n      setLoginPopupOpen(true);\r\n    } else {\r\n      setRegisterPopupOpen(true);\r\n      setLoginPopupOpen(false);\r\n    }\r\n  };\r\n\r\n  // **выход из аккаунта\r\n  function logOut(){\r\n    localStorage.removeItem('news');\r\n    localStorage.removeItem('articles');\r\n    localStorage.removeItem('token');\r\n    setArticles([]);\r\n    setResponseSending(false);\r\n    setDataLoaded(false);\r\n    setSavedNewsPage(false);\r\n    setLoggedIn(false);\r\n    history.push('/');\r\n  }\r\n\r\n  // **карточки\r\n  // *отслеживание отмеченных карточек\r\n  let getAllNews = JSON.parse(localStorage.getItem('news'));\r\n  let getSavedNews = JSON.parse(localStorage.getItem('articles'));\r\n  if ((getSavedNews !== null) && (getSavedNews !== undefined) && (getAllNews !== null) && (getAllNews !== undefined)) {\r\n    getAllNews.forEach(function(v) {\r\n    if (getSavedNews.some(function(v2) {\r\n        return v.link === v2.link })){\r\n      return v.marked = true}\r\n    });\r\n  }\r\n  localStorage.removeItem('news');\r\n  const markedNews = (JSON.stringify(getAllNews));\r\n  localStorage.setItem('news', markedNews);\r\n\r\n  // *подгрузка найденных карточек из локалки\r\n  useEffect(() => {\r\n    const news = localStorage.getItem('news');\r\n    return () => {setArticles(JSON.parse(news))};\r\n  }, [])\r\n\r\n  // *подгрузка сохраненных карточек из локалки\r\n  useEffect(() => {\r\n    const articles = localStorage.getItem('articles');\r\n    return () => {updateSavedNews(JSON.parse(articles))};\r\n  }, []);\r\n\r\n  useEffect(function() {\r\n    function redirector() {\r\n      const location = window.location;\r\n      if ((location === '/saved-pages') && loggedIn === false) {\r\n        return <Redirect to={{ path: \"/\", state: { setLoginPopupOpen: true } }}/>\r\n      }\r\n    };\r\n    window.addEventListener(\"hashchange\", redirector);\r\n    redirector();\r\n    return () => window.removeEventListener(\"hashchange\", redirector);\r\n  });\r\n\r\n  // **DOM\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route exact path='/'>\r\n            <div className='App__background App__background-image'>\r\n              <Header\r\n                loggedIn={loggedIn}\r\n                handleLoginClick={handleLoginClick}\r\n                isSavedNewsPage={isSavedNewsPage}\r\n                setSavedNewsPage={setSavedNewsPage}\r\n                logOut={logOut}/>\r\n              <ScrollTo>\r\n              {({ scroll }) => (\r\n              <SearchForm scroller={() => scroll({ y: 550, smooth: true })}\r\n                setSavedNewsPage={setSavedNewsPage}\r\n                setResponseSending={setResponseSending}\r\n                isDataLoaded={isDataLoaded}\r\n                setDataLoaded={setDataLoaded}\r\n                setKeyword={setKeyword}\r\n                setArticles={setArticles}\r\n                setSearchError={setSearchError} />\r\n              )}\r\n              </ScrollTo>\r\n            </div>\r\n              <Main\r\n                loggedIn={loggedIn}\r\n                isSavedNewsPage={isSavedNewsPage}\r\n                isResponseSending={isResponseSending}\r\n                isDataLoaded={isDataLoaded}\r\n                articles={articles}\r\n                setArticles={setArticles}\r\n                searchError={searchError}\r\n                savedNews={savedNews}\r\n                keyword={keyword}\r\n                updateSavedNews={updateSavedNews}\r\n                setRegisterPopupOpen={setRegisterPopupOpen} />\r\n          </Route>\r\n          <Route>\r\n            <div className='App__background'>\r\n              <Header\r\n                loggedIn={loggedIn}\r\n                handleLoginClick={handleLoginClick}\r\n                isSavedNewsPage={isSavedNewsPage}\r\n                setSavedNewsPage={setSavedNewsPage}\r\n                logOut={logOut} />\r\n              </div>\r\n              <ProtectedRoute\r\n                exact path=\"/saved-pages\"\r\n                loggedIn={loggedIn}\r\n                component={SavedNews}\r\n                isSavedNewsPage={isSavedNewsPage}\r\n                setSavedNewsPage={setSavedNewsPage}\r\n                setArticles={setArticles}\r\n                updateSavedNews={updateSavedNews}\r\n                handleLoginClick={handleLoginClick} />\r\n          </Route>\r\n          <Route>\r\n          {loggedIn ? <Redirect to=\"/saved-pages\"/> : <Redirect to={{ path: \"/\", state: { setRegisterPopupOpen: true } }}/>}\r\n          </Route>\r\n        </Switch>\r\n        <Login\r\n          isOpen={isLoginPopupOpen}\r\n          onLogin={onLogin}\r\n          closeAllPopups={handlePopupClose}\r\n          userEmail={userEmail}\r\n          userPassword={userPassword}\r\n          changeLink={changeLink}\r\n          isValidEmail={isValidEmail}\r\n          invalidEmailMessage={invalidEmailMessage}\r\n          handleEmailChange={handleEmailChange}\r\n          isValidPassword={isValidPassword}\r\n          invalidPasswordMessage={invalidPasswordMessage}\r\n          handlePasswordChange={handlePasswordChange}\r\n          loginError={loginError}\r\n          isRequestSending={isRequestSending}\r\n          setRequestSending={setRequestSending}\r\n        />\r\n        <Registration\r\n          isOpen={isRegisterPopupOpen}\r\n          closeAllPopups={handlePopupClose}\r\n          onRegister={handleRegisterClick}\r\n          userEmail={userEmail}\r\n          userPassword={userPassword}\r\n          userName={userName}\r\n          changeLink={changeLink}\r\n          isValidEmail={isValidEmail}\r\n          invalidEmailMessage={invalidEmailMessage}\r\n          handleEmailChange={handleEmailChange}\r\n          isValidPassword={isValidPassword}\r\n          invalidPasswordMessage={invalidPasswordMessage}\r\n          handlePasswordChange={handlePasswordChange}\r\n          isValidName={isValidName}\r\n          invalidNameMessage={invalidNameMessage}\r\n          handleNameChange={handleNameChange}\r\n          registrationError={registrationError}\r\n          isRequestSending={isRequestSending}\r\n          setRequestSending={setRequestSending}\r\n        />\r\n        <TooltipPopup isOpen={isInformationPopupOpen}\r\n          handleLoginClick={handleLoginClick}\r\n          onClose={handlePopupClose} />\r\n        <Footer />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  )\r\n};\r\n\r\n// **экспорт\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter} from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}